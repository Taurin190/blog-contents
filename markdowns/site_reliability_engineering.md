# SRE(サイトリライアビリティエンジニアリング)を読んだ所感
最近、企業の募集などにおいてもSREという役割での募集を目にすることがある。
そもそもSREというエンジニアは、どのような背景で生まれ、何を求められているのか学ぶため、原典である[SRE サイトリライアビリティエンジニアリング
――Googleの信頼性を支えるエンジニアリングチーム](https://www.oreilly.co.jp/books/9784873117911/)を読んだ。

SREの原則からGoogleにおいて実際に起こった事例を元に紹介される方法論が書かれていて、
500ページ程度で、内容も充実していてボリュームのある本でした。

そのため、このブログ記事ではいくつか面白いと思ったところを部分的に抜き出して、
自分なりに簡単に所感を書こうと思う。

既に導入しているチームもあるかもしれないが、
以下の概念は私には新しいもので非常に興味深かった。
- サービスレベル目標(SLO)
- エラーバジェット
- SREの働き方

## サービスレベル目標(SLO)
SLA(Service Level Agreement)はサービスを提供する開発者や
プラットフォームを利用する際に信頼性を比較検討した人等で知っているも多いと思う。

SLAとSLOの違いは、SLAが外部のユーザに対して提示して約束するものであるのに対して、
SLOは内部で定義して運用するものである。
SLOはSLAよりも厳しく、かつ達成可能な値に設定するのが良い。
SLAがSLOと同等に厳しい場合には、後述のエラーバジェットを導入して、
実験的な試みをするのも難しくなるため分けて考えるのが良いと思う。

目標なので、達成可能に設定するのは言うまでもないかもしれない。
例えば、ネットワークがシックスナインの信頼性なのに、セブンナインの信頼性を確保しろと言うのは無理である。
同様に使用しているクラウドの可用性を超えたSLOを設定するのは、単にクラウドに依存する形になる。

非常に重要なポイントとして、SLOを大きく超えすぎないことが大事であると言うことである。
普通は稼働率と可用性を上げるように、99.9の9を一つでも増やすように努力する。
しかし、それが弊害となるパターンがいくつかあると言うことであった。
- 可用性を上げるために他のレイテンシなどを犠牲にしている
- 他のサービスから依存され障害時に対策されなくなる

また、SLOの上げ方の指標として示されていたものは、
売り上げに対する0.001がどれだけ価値があるのかと言うことだ。
これが非常に大きい値になる場合は人の工数を割いてSLOを上げる価値があると判断できる。

逆に、余りにも達成できない場合は、現実的なSLOに下げる。

## エラーバジェット
エラーバジェットとは50xのエラーや障害、メンテナンスを含めて起こしても許容する範囲を予算に見立てて、
計画的に実験を行うものである。

なので、エラーが多発してもう使えない場合はエラーを減らすために働く。
逆に余裕がある場合は、カナリアリリースや少しリスクを冒したながらリリースする等も行える。


## SREの働き方
SREが多くの運用を行うエンジニアと異なる部分は、コードを書いて改善を行うところだと思う。
そのため、改善のために50%の時間が改善活動に当てられるように作業の割り当てをするのを理想とする。

## 面白いと感じた部分
